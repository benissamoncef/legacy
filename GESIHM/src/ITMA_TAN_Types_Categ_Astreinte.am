/*E*/
/* Fichier : $Id: ITMA_TAN_Types_Categ_Astreinte.am,v 1.2 1994/11/29 15:10:48 lecrivain Exp $      Release : $Revision: 1.2 $        Date : $Date: 1994/11/29 15:10:48 $
-------------------------------------------------------------------------------
* STERIA *  PROJET MIGRAZUR
-------------------------------------------------------------------------------
* SOUS-SYSTEME  GESIHM
-------------------------------------------------------------------------------
* MODULE ITMA_TAN * FICHIER ITMA_TAN_Types_Categ_Astreinte.am
-------------------------------------------------------------------------------
* DESCRIPTION DU MODULE :
*
*   Listes interlocuteurs et astreintes.
*
*   Cf. DCG 2.4.43, 2.4.48
*
-------------------------------------------------------------------------------
* HISTORIQUE :
*
* Lecrivain	25 Oct 1994	: Creation
---------------------------------------------------------------------------- */

INCLUDE	"dbase_.am"
INCLUDE "../inc/ITMA_COM.h"
INCLUDE "../inc/ITMA_TDO.h"

INCLUDE "../inc/xzan03sp.h"
INCLUDE "../inc/xzan04sp.h"



/*X*/
/* ----------------------------------------------------------------------------
* SERVICE RENDU :
*  Initialise les listes des types et des categories d'astreintes.
-------------------------------------------------------------------------------
* SEQUENCE D'APPEL :
*/

MACRO ITMA_TAN_Types_Categ_Astreinte (va_module)

/*
* ARGUMENTS EN ENTREE :
*   va_module         : Nom du module appelant.
*
*
* ARGUMENTS EN SORTIE : Aucun
*
*
* CODE RETOUR         : COM_OK en cas d'execution correcte, COM_NOK sinon.
*
* CONDITION D'UTILISATION
*   ITMA_TDO
*
* FONCTION
*   Lit en base de donnees les listes des types d'astreintes et la liste des
*   categories et value deux variables publiques.
*
---------------------------------------------------------------------------- */

    VAR FORMAT SQL_Procedure_Result@	vl_resultats


IF COM05_SQL_Procedure (XZAN03_Lire_Types_Astreintes,
			   NULL, vl_resultats, va_module) <> COM_OK
    RETURN (COM_NOK)

SET_SYSTEM_VAR@ (vg_les_types_astreintes, vl_resultats.select_results[0])


IF COM05_SQL_Procedure (XZAN04_Lire_Categ_Astreintes,
			   NULL, vl_resultats, va_module) <> COM_OK
    RETURN (COM_NOK)

SET_SYSTEM_VAR@ (vg_les_categ_astreintes, vl_resultats.select_results[0])

RETURN (COM_OK)

ENDMACRO
